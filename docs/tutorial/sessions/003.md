### Session `003`

```text
INFO Comparing data to: 03_checkparams.json
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO                                                        Summarising protocol matches
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO  - 03_checkparams.json: 1.00
INFO ------------------------------------------------------------------------------------------------------------------------------------------
```

The software finds no variation between the data for this session and the template.
Yet there *was* a deviation introduced.
Checking the first page of the PDF printouts
corresponding to the two imaging sessions:

```sh
# Note: Reproducing this command call requires installation of the Xpdf package
pdftotext data/Template/protocol.pdf - -l 1 | \
    sed '/^\*$/d' | \
    sed '/^$/d' | \
    sed '/^\-1\-/d' | \
    tail -n+7
```

```
localizer
gre_field_mapping
t1_fl2d_sag
t2_tse_tra_p2
t1_mp2rage
t2s_megre
ep2d_se_ap
ep2d_se_pa
ep2d_fid_basic_bold_p2_task
ep2d_se_ap
ep2d_se_pa
ep2d_fid_basic_bold_p2_rest
cmrr_ep2d_se_ap
cmrr_ep2d_se_apinvrope
cmrr_mbep2d_diff
pasl_3d_tra
csi_slaser
```

```sh
# Note: Reproducing this command call requires installation of the Xpdf package
pdftotext data/003/protocol.pdf - -l 1 | \
    sed '/^\*$/d' | \
    sed '/^$/d' | \
    sed '/^\-1\-/d' | \
    tail -n+7
```

```
localizer
gre_field_mapping
t1_fl2d_sag
t2_tse_tra_p2
t2s_megre
t1_mp2rage
ep2d_se_ap
ep2d_se_pa
ep2d_fid_basic_bold_p2_task
ep2d_se_ap
ep2d_se_pa
ep2d_fid_basic_bold_p2_rest
cmrr_ep2d_se_ap
cmrr_ep2d_se_apinvrope
cmrr_mbep2d_diff
pasl_3d_tra
csi_slaser
```

Upon close interrogation of these two lists,
the `t1_mp2rage` and `t2s_megre` sequences have been *reversed in order*.
Depending on the person responsible for the protocol template,
this may be deemed an *inconsequential change*.
If however it is preferred to strictly enforce the intended sequence order,
this can be dictated within the protocol template:

```json
{
  "GENERAL": {
    "check_ordering": true
  },
```

Running the dataset against this new template yields:

```text
INFO Comparing data to: 04_additional.json
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO                                                        Summarising protocol matches
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO  - 04_additional.json: 1.00
INFO    - acquisitions not in expected order
INFO ------------------------------------------------------------------------------------------------------------------------------------------
```

```text
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO                                                         Summary of series matches
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO Template                                                     | MatchStatus  | DataSeries                           | Score  | Complete
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO Localizer:Image                                              | MATCH        | 1:localizer                          |   1.00 | True
INFO Dual echo gradient echo field map:PhaseDiff                  | MATCH        | 2:gre_field_mapping                  |   1.00 | True
INFO T1-weighted FLASH:Image                                      | MATCH        | 3:t1_fl2d_sag                        |   1.00 | True
INFO T2-weighted Turbo Spin Echo:Image                            | MATCH        | 4:t2_tse_tra_p2                      |   1.00 | True
INFO MP2RAGE:First inversion                                      | MATCH        | 9:t1_mp2rage_INV1                    |   1.00 | True
INFO MP2RAGE:Second inversion                                     | MATCH        | 10:t1_mp2rage_INV2                   |   1.00 | True
INFO MP2RAGE:T1 map                                               | MATCH        | 11:t1_mp2rage_T1_Images              |   1.00 | True
INFO MP2RAGE:First simulated inversion time                       | MATCH        | 12:t1_mp2rage_T1_Images_SIM-TI410ms  |   1.00 | True
INFO MP2RAGE:Second simulated inversion time                      | MATCH        | 13:t1_mp2rage_T1_Images_SIM-TI1100ms |   1.00 | True
INFO MP2RAGE:Uniform intensity image                              | MATCH        | 14:t1_mp2rage_UNI_Images             |   1.00 | True
INFO MP2RAGE:Denoised uniform intensity image                     | MATCH        | 15:t1_mp2rage_UNI-DEN                |   1.00 | True
INFO T2*-weighted multi-echo gradient echo:Magnitude (original)   | MATCH        | 5:t2s_megre                          |   1.00 | True
INFO T2*-weighted multi-echo gradient echo:Magnitude (normalised) | MATCH        | 6:t2s_megre                          |   1.00 | True
INFO T2*-weighted multi-echo gradient echo:Phase                  | MATCH        | 7:t2s_megre                          |   1.00 | True
INFO T2*-weighted multi-echo gradient echo:R2* map                | MATCH        | 8:R2Star_Images                      |   1.00 | True
INFO Spin-echo EPI (product); A>>P:Image                          | DUPLICATES   | ---                                  | ---    | ---
INFO                                                              |              | 16:ep2d_se_ap                        |   1.00 | True
INFO                                                              |              | 19:ep2d_se_ap                        |   1.00 | True
INFO Spin-echo EPI (product); P>>A:Image                          | DUPLICATES   | ---                                  | ---    | ---
INFO                                                              |              | 17:ep2d_se_pa                        |   1.00 | True
INFO                                                              |              | 20:ep2d_se_pa                        |   1.00 | True
INFO Task-based fMRI BOLD:Image                                   | MATCH        | 18:ep2d_fid_basic_bold_p2_task       |   1.00 | True
INFO Resting-state fMRI BOLD:Image                                | MATCH        | 21:ep2d_fid_basic_bold_p2_rest       |   1.00 | True
INFO Spin-echo EPI (CMRR); A>>P:Image                             | MATCH        | 22:cmrr_ep2d_se_ap                   |   1.00 | True
INFO Spin-echo EPI (CMRR); A>>P Inv-RO-PE:Image                   | MATCH        | 23:cmrr_ep2d_se_apinvrope            |   1.00 | True
INFO Diffusion MRI:DWI magnitude                                  | MATCH        | 24:cmrr_mbep2d_diff                  |   1.00 | True
INFO Diffusion MRI:DWI phase                                      | MATCH        | 25:cmrr_mbep2d_diff                  |   1.00 | True
INFO Diffusion MRI:ADC                                            | MATCH        | 26:cmrr_mbep2d_diff_ADC              |   1.00 | True
INFO Diffusion MRI:Trace-weighted                                 | MATCH        | 27:cmrr_mbep2d_diff_TRACEW           |   1.00 | True
INFO Diffusion MRI:Fractional Anisotropy                          | MATCH        | 28:cmrr_mbep2d_diff_FA               |   1.00 | True
INFO Directionally-Encoded Colour FA:Images                       | MATCH        | 29:cmrr_mbep2d_diff_ColFA            |   1.00 | True
INFO Diffusion Tensor:Data                                        | MATCH        | 30:cmrr_mbep2d_diff_TENSOR           |   1.00 | True
INFO Pulsed Arterial Spin Labelling:Images                        | MATCH        | 31:pasl_3d_tra                       |   1.00 | True
INFO Pulsed Arterial Spin Labelling:Perfusion-weighted            | MATCH        | 32:Perfusion_Weighted                |   1.00 | True
INFO Spectroscopy:Data                                            | MATCH        | 33:csi_slaser                        |   1.00 | True
INFO Phoenix Report:Data                                          | MATCH        | 99:PhoenixZIPReport                  |   1.00 | True
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO                                                       Summary of acquisition matches
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO Template                                 | MatchStatus                          | Score  | Complete
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO Localizer                                | MATCH                                | 1.00   | True
INFO Dual echo gradient echo field map        | MATCH                                | 1.00   | True
INFO T1-weighted FLASH                        | MATCH                                | 1.00   | True
INFO T2-weighted Turbo Spin Echo              | MATCH                                | 1.00   | True
INFO MP2RAGE                                  | MATCH                                | 1.00   | True
INFO T2*-weighted multi-echo gradient echo    | MATCH                                | 1.00   | True
INFO Spin-echo EPI (product); A>>P            | DUPLICATES (EXPECTED)                | 1.00   | True
INFO Spin-echo EPI (product); P>>A            | DUPLICATES (EXPECTED)                | 1.00   | True
INFO Task-based fMRI BOLD                     | MATCH                                | 1.00   | True
INFO Resting-state fMRI BOLD                  | MATCH                                | 1.00   | True
INFO Spin-echo EPI (CMRR); A>>P               | MATCH                                | 1.00   | True
INFO Spin-echo EPI (CMRR); A>>P Inv-RO-PE     | MATCH                                | 1.00   | True
INFO Diffusion MRI                            | MATCH                                | 1.00   | True
INFO Directionally-Encoded Colour FA          | MATCH                                | 1.00   | True
INFO Diffusion Tensor                         | MATCH                                | 1.00   | True
INFO Pulsed Arterial Spin Labelling           | MATCH                                | 1.00   | True
INFO Spectroscopy                             | MATCH                                | 1.00   | True
INFO Phoenix Report                           | MATCH                                | 1.00   | True
INFO ------------------------------------------------------------------------------------------------------------------------------------------
ERROR Acquisition ordering not adhered to
ERROR AcquisitionTemplate : matched acquisition number
ERROR Localizer: 1
ERROR Dual echo gradient echo field map: 2
ERROR T1-weighted FLASH: 3
ERROR T2-weighted Turbo Spin Echo: 4
ERROR MP2RAGE: 9
ERROR T2*-weighted multi-echo gradient echo: 5
ERROR Task-based fMRI BOLD: 18
ERROR Resting-state fMRI BOLD: 21
ERROR Spin-echo EPI (CMRR); A>>P: 22
ERROR Spin-echo EPI (CMRR); A>>P Inv-RO-PE: 23
ERROR Diffusion MRI: 24
ERROR Directionally-Encoded Colour FA: 29
ERROR Diffusion Tensor: 30
ERROR Pulsed Arterial Spin Labelling: 31
ERROR Spectroscopy: 33
ERROR Phoenix Report: 99
INFO No check for paired fmaps requested.
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO ------------------------------------------------------------------------------------------------------------------------------------------
INFO Protocol match score 1.00 (fraction of acquisition matches)
INFO ------------------------------------------------------------------------------------------------------------------------------------------
```

The fact that the series numbers in this list
do not increase monotonically from top to bottom
indicates a difference in acquisition ordering
between the empirical data and the protocol template.
